<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>krpano-editor</title>
    <% if (htmlWebpackPlugin.options.nodeModules) { %>
      <!-- Add `node_modules/` to global paths so `require` works properly in development -->
      <script>
        require('module').globalPaths.push('<%= htmlWebpackPlugin.options.nodeModules.replace(/\\/g, '\\\\') %>')
      </script>
    <% } %>
    <script src="static/tour.js"></script>
    <style>
      @-ms-viewport {
        width: device-width;
      }
  
      @media only screen and (min-device-width: 800px) {
        html {
          overflow: hidden;
        }
      }
  
      html {
        height: 100%;
        overflow: hidden !important;
      }
  
      #pano {
        height: 100%;
        width: 100%;
      }
  
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 16px;
        color: #FFFFFF;
        background-color: #333;
      }
    </style>
  </head>
  <body>
    <div id="editor"></div>
    <div id="pano" class="column is-10">
      <noscript>
        <table style="width:100%;height:100%;">
          <tr style="vertical-align:middle;">
            <td>
              <div style="text-align:center;">ERROR:<br/><br/>Javascript not activated<br/><br/></div>
            </td>
          </tr>
        </table>
      </noscript>
      <script>
        // const { ipcRenderer } = require('electron')
        // let krpano = null

        // embedpano({
        //   xml: "panos/test/tour.xml",
        //   swf: "panos/test/tour.swf",
        //   target: "pano",
        //   html5: "auto",
        //   mobilescale: 1.0,
        //   passQueryParameters: true,
        //   onready: krpano_onready_callback
        // })

        // function krpano_onready_callback (krpano_interface) {
        //   krpano = krpano_interface
        //   ipcRenderer.on('openXml', (event, path) => {
        //     console.log(path)
        //     krpano.call("loadpano(File://" + path + ", null, MERGE, BLEND(0.5));")
        //   })
        // }
      </script>
    </div>
    <script>
      if (process.env.NODE_ENV !== 'development') window.__static = require('path').join(__dirname, '/static').replace(/\\/g, '\\\\')
      console.log(`process: ${process.env.NODE_ENV}`)
    </script>
  </body>
</html>
